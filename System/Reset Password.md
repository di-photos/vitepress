# 黑群密码找回

### 一、问题简述

白群晖上有 RESET 按钮，如果忘记密码，只要按住四秒钟直到哔声响将会重设管理者密码。

但黑群晖根本没有reset键，那忘记密码怎么办？这里分享一种解决办法，原理：修改/etc/shadow文件，此文件也是linux系统上保存账户密码文件。 如果你忘记密码，只需要修改此文件即可。这种方式通杀所以黑群晖，不分版本。



### 二、物理黑群

关机把硬盘取出来，挂载到其它电脑上，用磁盘管理软件，比如Diskgenius挂载群晖硬盘分区，找到根目录下的/etc/shadow文件

打开此文件，一行一个账户记录，每一行又被  **英文冒号：** 分隔成多个字段，找到admin管理的账户 ，第一个字段是账户名，第二个字段就是账户密码。该密码使用sha512哈希函数加密的，以目前计算能力是破不了的，只需要用已知的加密后密码修改这个字段即可。

比如该文件中有User账户是知道密码的，就把User账户第二个密码字段复制，然后覆盖admin管理员密码字段。并把这个修改后的shadow文件放回去。接上硬盘，开机输入User的密码就可以登陆管理员账户了，注意是账户的密码，别搞错了！

每行的结构是这样的，只需要修改**第1个冒号**和**第2个冒号之间**的字符段，其它部分都不需要修改。

admin:**$6$Wo0kPkgm$OAp0Wl2AsaE4n1y7qxB5Jns70Yk91AadfgvzElsR5addfGmoGCC8DUXkKzK7vyiV8wXNeaWNm861**:15832:0:99999:7:::

如果没有其他账户，可以用已经加密好的密码（**123456789**） ，直接复制回去覆盖。成功登陆后再修改成你要的密码即可。

**$6$n/atIskPWx$BTDud6vnw5pKQLcm4vHd3BEOBlh5ovSw3Iv9pMhW6BFWvCH5DNIIQFsqwfj1Oxi4WeexYfmHFPHHxyZ9XWImz1**

**提醒：**

一般修改nas第一块硬盘即可，如果不行需要修改nas所有的硬盘。



### 三、虚拟黑群

ssh登录群晖后台， 输入：sudo vi /etc/shadow  按上述操作修改账号的第二个字段即可。

 

### 四、总结

使用此方法可以修改任何一个正常可登陆的账户密码。

优点：物理修改硬盘文件，所有系统规则限制都可绕开。

缺点：要把硬盘拆下来挂载到其它电脑上，比较麻烦。

